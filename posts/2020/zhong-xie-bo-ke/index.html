<!DOCTYPE html><html lang="zh-cmn-Hans-CN" data-reactroot=""><head><title>重写博客</title><meta name="charset" content="utf-8"/><meta name="author" content="xiao"/><meta name="description" content="抽空把博客重写了，这里是新博客的一些碎碎念。"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="renderer" content="webkit"/><meta name="force-rendering" content="webkit"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><link rel="short icon" href="/assets/favicon-5TJAZFDW.ico"/><link rel="stylesheet" type="text/css" href="/css/style.7589a7b9533cda0c51c6593741726ee5.css"/></head><body><header class="main-header-wrapper"><span class="main-header"><a class="main-title" href="/">Dreaming Cat&#x27;s</a><nav class="main-nav"><a href="/" class="main-nav__item">首页</a><a href="/posts/about/" class="main-nav__item">关于</a></nav></span></header><article class="main-article-wrapper"><div class="main-article"><section class="post-default"><header class="post-header"><h1 class="post-header__title">重写博客</h1><time class="post-header__create">2020-05-02</time></header><article class="post-article"><p>因为工作的原因<s>鸽子</s>，很久没有再写博客，半个月前终于决定写一篇，但是突然发现博客无法正常工作了。修了老久也没修好，以此为契机就决定把博客重写一遍啦。</p>
<h1 id="wang-zhan"><a class="anchor" href="#wang-zhan">§</a>网站</h1>
<p>不管是之前的博客还是现在的博客，本质上都是静态网页，不包含任何服务器交互。</p>
<p>上一个博客其实是个单页应用，所有的页面数据是直接编译成了<code>json</code>字符串保存在了我的代码仓库中，切换到哪个页面就去请求哪个页面的数据。这样做的好处是整个交互可以做的很好看，页面切换可以做很多酷炫的效果，但是这样有个缺点，当时是用<code>vue</code>做的，每个页面加载都需要完整的加载所有库和包，累积起来是个比较大的数量，对于以文字为主的博客来说，这点等待的时间，我觉得不是很好。<br><span class="softbreak"></span>这次重写，完全回归了古老的网站结构，整个网站是多页面的，每个页面都有自己的<code>html</code>文件，这样做的话，每个页面的结构我可以更加灵活更加精确的加以控制。</p>
<h1 id="ye-mian"><a class="anchor" href="#ye-mian">§</a>页面</h1>
<p>新的博客彻底去掉了那些动态效果和五颜六色的大色块，主色调选择了黑白，配合少量浅色<code>色块</code>。<br><span class="softbreak"></span>UI 上还是以卡片式设计为主，不过去掉了旧博客很多小卡片排列的风格，页面只有几个大卡片，然后用浅黑色直线切割成不同区域。<br><span class="softbreak"></span>博客还是以文字阅读为主，所以花了很长时间在调整文字排版的效果上。所有标题均为衬线字体，正文为黑体。因为是中文阅读，我还是坚持每个段落首行缩进。有关斜体的问题，我个人不太喜欢斜体中文，中文没有写斜体的习惯，这纯粹只是西文的习惯，所以在网站中，斜体采用下划线，中英混排时只有西文是斜体，中文不变，例如：<em>中英文混排 Mixed Chinese and English</em>。在下划线方面，由于浏览器自带下划线和文本之间没有间隔，英文问题不大，<u>中文就显得很难看</u>，所以这里采用背景渐变的方式重新做了下划线。</p>
<h1 id="gong-cheng"><a class="anchor" href="#gong-cheng">§</a>工程</h1>
<p>编译方面之前本来打算模仿<code>webpack</code>的流程，就是提供标准的调度器和内部接口，然后不同的资源用不同的加载器来进行加载，调度器对依赖资源的变更而自动进行最小子图的重载。当时这么考虑主要是因为编译太慢了，所以必须要在用户资源更新的时候用最小的代价去构建，这样的话就要求有标准接口，这东西写起来实在是费劲得很。<br><span class="softbreak"></span>现在的博客的编译没有这样复杂的流程，每次资源变更都全部重新编译，之所以现在可以这么任性，主要是因为换了<code>esbuild</code>，速度真的太快了，在这里向各位推荐一下这个打包工具。</p>
<p>文章部分留出了多模板的接口，希望以后有时间针对不同的文章可以自动加载不同的模板。页面模板方面选用了<code>React</code>，它的<code>SSR</code>功能可以直接生成网页源码，我们将源码保存成文件就可以了。<br><span class="softbreak"></span>与页面主要排版不相干的交互全部放到<em>插件</em>系统中，插件系统提供统一的调度和载入模块。现在是一起打包到所有页面中的，以后希望能做成按需打包。</p>
<h1 id="yi-hou"><a class="anchor" href="#yi-hou">§</a>以后</h1>
<p>这个新的博客还只是个架子，很多功能都还没有上，以后慢慢补文章的时候再完善吧。至于以前的旧文章，以后有空了再搬运吧。</p>
</article></section><aside id="to-content"><header class="menu-list-header">目录</header><article class="menu-list-article"><ul class="menu-list"><li class="menu-item menu-level-1"><a href="#wang-zhan" class="menu-item__title">网站</a></li><li class="menu-item menu-level-1"><a href="#ye-mian" class="menu-item__title">页面</a></li><li class="menu-item menu-level-1"><a href="#gong-cheng" class="menu-item__title">工程</a></li><li class="menu-item menu-level-1"><a href="#yi-hou" class="menu-item__title">以后</a></li></ul></article></aside></div><aside id="goto-top"><button class="goto-top__button"><svg fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M16.036 19.59a1 1 0 0 1-.997.995H9.032a.996.996 0 0 1-.997-.996v-7.005H5.03c-1.1 0-1.36-.633-.578-1.416L11.33 4.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.005z"></path></svg></button></aside></article><footer class="main-footer"><span>Powered by </span><a href="https://github.com/xiaoboost" class="main-footer__href">Xiao</a><span> &amp; </span><a href="https://pages.github.com/" class="main-footer__href">Github Pages</a><span style="font-size:110%"> © </span><span>Since 2020</span></footer><script type="text/javascript" src="/js/script.06bfc2047e8923cdfa021bc5bf36f77f.js"></script></body></html>