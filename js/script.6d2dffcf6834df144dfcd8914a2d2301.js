var $=Object.create,T=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var k=t=>T(t,"__esModule",{value:!0});var D=(t,o,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let e of q(o))!P.call(t,e)&&e!=="default"&&T(t,e,{get:()=>o[e],enumerable:!(n=C(o,e))||n.enumerable});return t},y=t=>D(k(T(t!=null?$(N(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var w=y(require("@xiao-ai/utils"));(()=>{function t(n){let l=`<div class="ls-info-box"><pre>${n.map(i=>(0,w.isString)(i)?i:`<span class="${i[0]}">${i[1]}</span>`).join("")}</pre></div>`,s=document.createElement("div");return s.innerHTML=l,s.children[0]}let o=document.querySelectorAll("pre span[ls-info]");for(let n of Array.from(o)){let e=n.getAttribute("ls-info")??"",l=JSON.parse(decodeURI(e));if(n.setAttribute("ls-info",""),!l)return;let s=t(l);n.addEventListener("mouseenter",()=>{let i=n.getBoundingClientRect();document.body.appendChild(s),s.style.left=`${i.left}px`,s.style.top=`${i.top}px`}),n.addEventListener("mouseleave",()=>{document.body.removeChild(s)})}})();var H=y(require("@xiao-ai/utils/dist/esm/web"));var u=y(require("@xiao-ai/utils"));async function g(t,o){t.style.display!=="block"&&(t.style.display="block",t.style.opacity="0",await(0,u.delay)(),t.style.opacity="1",t.style.transition=`opacity ${o}ms linear`)}async function x(t,o){if(t.style.display!=="none"){if(!t.style.display){t.style.display="none";return}t.style.display="block",t.style.opacity="1",await(0,u.delay)(),t.style.opacity="0",t.style.transition=`opacity ${o}ms linear`,await(0,u.delay)(o),t.style.display="none"}}var I="goto-top",A=400,E=400;(()=>{let t=document.body.querySelector(`#${I}`),o=t?.parentElement;if(!t||!o)return;let n=H.supportsPassive?{passive:!0,capture:!1}:!1,e=!1,l=()=>{window.scrollY>A?g(t,E):(x(t,E),e=!1)};l(),window.addEventListener("scroll",l,n),t.addEventListener("click",s=>{e||(e=!0,s.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))})})();var M="to-content",L=20,b="menu-item-highlight",S=2;var p=y(require("@xiao-ai/utils/dist/esm/web")),a;(function(e){e[e.Init=0]="Init",e[e.Follow=1]="Follow",e[e.Static=2]="Static"})(a||(a={}));(()=>{let t=document.body.querySelector(`#${M}`),o=t?.parentElement;if(!t||!o)return;let n=Array.from(t.querySelectorAll(".menu-item")),e=o.offsetTop-L,l=p.supportsPassive?{passive:!0,capture:!1}:!1,s=[],i=0,v=()=>{let m=window.scrollY;m>e&&(i===2||i===0)?(i=1,t.style.position="fixed",t.style.top=`${L}px`):m<=e&&(i===1||i===0)&&(i=2,t.style.position="",t.style.top="");let r=s.find(d=>d.offsetTop<m),f=(r&&t.querySelector(`[href="#${r.title}"]`))?.parentElement;n.forEach(d=>{d===f?(0,p.addClassName)(f,b):(0,p.removeClassName)(d,b)})},h=()=>{let m=document.querySelector(".main-article");s=Array.from(m?.querySelectorAll(".anchor")??[]).map(r=>{let c=r.parentElement,f=c?.tagName.toLowerCase();return!f||!c?void 0:Number(f?.slice(1))<=S?c:void 0}).map(r=>({title:r?.getAttribute("id"),offsetTop:r?.offsetTop})).filter(r=>Boolean(r.title&&r.offsetTop)).sort((r,c)=>r.offsetTop>c.offsetTop?-1:1)};h(),v(),window.addEventListener("scroll",v,l),window.addEventListener("resize",h,l)})();
